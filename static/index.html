<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Weather Time Machine</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/cosmo/bootstrap.min.css">
    <link rel="stylesheet" href="css/home.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.6.1/angular.min.js"></script>
    <script src="js/app.js"></script>
  </head>
  <body ng-app="weatherTM">
    <nav class="navbar navbar-default">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="/">Weather Time Machine</a>
          </div>
        <div id="navbar" class="navbar-collapse collapse">
          <ul class="nav navbar-nav">
            <li id="Home"><a href="/">Home</a></li>
          </ul>
        </div>
      </div>
    </nav>
    <div class="jumbotron">
      <div class="container">
        <h1>Weather Time Machine<h1>
      </div>
    </div>
    <div class="container">
      <div ng-controller="ErrorController as errCtrl">
        <div class="alert alert-danger" ng-show="errCtrl.showError">
          <button type="button" class="close" ng-click="errCtrl.hideError()">&times;</button>
          {{ errCtrl.message }}
        </div>
      </div>
      <div ng-controller="LocationController as lc">
        <form ng-submit="lc.submit()">
          <fieldset class="row">
            <div class="form-group col-sm-6">
              <label for="location">Enter your location</label>
              <div class="input-group">
                <span class="input-group-addon">
                  <a ng-click="lc.geolocate()"><span class="glyphicon glyphicon-map-marker"></span></a>
                </span>
                <input type="text" name="location" class="form-control" ng-model="lc.location">
              </div>
            </div>
            <div class="form-group col-sm-6">
              <label for="date">Enter a starting date</label>
              <input class="form-control" name="date" type="date" ng-model="lc.queryInfo.date" value="{{ lc.queryInfo.date | date: 'yyyy-MM-dd'}}">
            </div>
          </fieldset>
          <div class="form-group">
            <button class="btn btn-primary" type="submit">Submit</button>
          </div>
        </form>
        <h6>LOCATION: {{ lc.data.formatted_address }}</h6>
        <h6>LATITUDE: {{ lc.queryInfo.latitude }}</h6>
        <h6>LONGITUDE: {{ lc.queryInfo.longitude }}</h6>
        <h6>DATE: {{ lc.queryInfo.date | date: 'longDate' }}</h6>
        <pre><code>{{ lc.queryInfo | json }}</code></pre>
        <div ng-controller="darkSky as ds">
          <pre><code>{{ ds.data | json }}</code></pre>
        </div>
        <a class="pull-right" href="https://darksky.net/poweredby/" target="_blank"><h5>Powered by Dark Sky</h5></a>
      </div>
    </div>
  </body>
</html>
